from datetime import datetime
import pytz


def get_current_time_and_weekday(index: int = 2) -> tuple[str, str] or str:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 –∏ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º.

    üìå –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
        - int: 0 - —Ç–æ–ª—å–∫–æ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è, 1 - —Ç–æ–ª—å–∫–æ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, 2 - –æ–±–∞ –≤ tuple

    üîπ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
        - str: –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (–Ω–∞–ø—Ä–∏–º–µ—Ä, "2025-06-16T07:38:00+03:00").
        - str: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–Ω—è –Ω–µ–¥–µ–ª–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫").
    """
    # –£–∫–∞–∑—ã–≤–∞–µ–º —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å UTC+3 (–ú–æ—Å–∫–≤–∞)
    tz = pytz.timezone("Europe/Moscow")
    current_time = datetime.now(tz)  # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

    # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤ ISO 8601
    iso_time = current_time.isoformat()

    # –°–ª–æ–≤–∞—Ä—å —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
    days_of_week_ru = {
        0: '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', 1: '–í—Ç–æ—Ä–Ω–∏–∫', 2: '–°—Ä–µ–¥–∞', 3: '–ß–µ—Ç–≤–µ—Ä–≥',
        4: '–ü—è—Ç–Ω–∏—Ü–∞', 5: '–°—É–±–±–æ—Ç–∞', 6: '–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ'
    }

    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–æ–º–µ—Ä –¥–Ω—è –∏ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ
    weekday_name = days_of_week_ru[current_time.weekday()]

    # –ß–¢–æ –≤–µ—Ä–Ω—É—Ç—å
    out = iso_time, weekday_name
    if index > 1:
        return out
    return out[index]


# üîπ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
# iso_time, weekday_name = get_current_time_and_weekday()
# print(f"–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: {iso_time}")
# print(f"–°–µ–≥–æ–¥–Ω—è {weekday_name}")
